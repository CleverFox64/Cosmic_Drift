// room script file

function room_AfterFadeIn()
{
  oElectrical_Chord.SetView(6,  10);
  oElectrical_Chord.Animate(0,  10, eRepeat,  eNoBlock);
}

function room_RepExec()
{
  //
  if (oElectrical_Chord.Animating && oElectrical_Chord.Frame == 1)
  {
    // First I want to declare some variables 
    int dist;
    dist = cEgo.x - (oElectrical_Chord.X+50);
 
    //AGS doesn't have an Absolute Value function (bad!) so I have to multiply by -1 if I want to turn a negative distance into a positive. 
    if (dist<0)
      {
        dist=dist*(-1);
      }  
      
     // I only want to play the noise if I am close to the chord (less than 350 pixels away).
     if (dist < 75)    
     {
        aElectriczap.Play();
     }
     
     
    //This is my way of debugging. I have Monty saying the values that I was working towards. It was a LONG 2 hours to figure this out.
    //cMonty.SayBackground ("%f", vol);
    cEgo.SayBackground ("%d", dist);
     
  }
  
}