// room script file

function hPuddleOfWater_Interact(Hotspot *theHotspot, CursorMode mode)
{
  if (Joel_Expedition == 1)
  {
    gStatusline.Visible = false;
    gIconbar.Visible = false;
    gCutscenesBars.Visible = true;
  
  // Going & interacting with the Puddle 0f Water
  cJoel.Walk(84, 154, eBlock, eWalkableAreas);
  
  cRC_Merchant.Say("...?");
  cJoel.Say("(Sweet! Finally, some water. Now I won't be thirsty.)");
  cJoel.Say("(Although I don't have anything to store it...)");
  cJoel.Say("(Hmm...)");
  
    Joel_Talking_Start();
  cJoel.Say("Ahh, what the heck! A little sip wouldn't hurt anyone!");
    cJoel.UnlockView();
    
  // RC_Merchant Going to warn Joel
  cRC_Merchant.Walk(252, 152, eBlock, eWalkableAreas);
  
  cRC_Merchant.LockView(21);
  //cRC_Merchant.AnimationSpeed(9); OR Walk Speed???
  cRC_Merchant.Animate(0, 8, eRepeat, eNoBlock);
  
  cRC_Merchant.Say("STOP! IT WOULD!");
  
    Joel_Talking_Start();
  cJoel.Say("Huh?");
    cJoel.UnlockView();
    
  //RC Merchant Stops Hopping
  cRC_Merchant.Say("DON'T DRINK THAT!");
  cRC_Merchant.UnlockView(21);
  
    Joel_Talking_Start();
  cJoel.Say("Oh! Uh...");
    cJoel.UnlockView();
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("Do you just go around and drink whatever you see!?");
    cRC_Merchant.UnlockView();
  
  cJoel.Say("I-");
  
  //Add wait here
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("*Sigh...* I assume your new around here?");
    cRC_Merchant.UnlockView();
    
    Joel_Talking_Start();
  cJoel.Say("Yes...");
    cJoel.UnlockView();
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("I see... Well, you still shouldn't just go around and drink whatever you see!");
    cRC_Merchant.UnlockView();
    
    Joel_Talking_Start();
  cJoel.Say("Yeah, you're right...");
    cJoel.UnlockView();
    
  cJoel.Say("(What was I thinking!)");
  cJoel.Say("(I mean, the other Rock creatureÂ did say the water was pure, so I thought it was fine...)");
  
  // RC_Merchant Telling Joel how to purify the Puddle
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("That liquid is not safe to drink in its current state.");
    cRC_Merchant.UnlockView();
    
    Joel_Talking_Start();
  cJoel.Say("Wait really!?");
  cJoel.Say("I thought this was the Ponds of Pureness.");
    cJoel.UnlockView();
    
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("Yeah, the name can be somewhat misleading...");
  cRC_Merchant.Say("Not all the ponds are purified, but most of them are.");
  cRC_Merchant.Say("It just happens that this one isn't.");
    cRC_Merchant.UnlockView();
    
    
    Joel_Talking_Start();
  cJoel.Say("How can you tell?");
    cJoel.UnlockView();
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("The liquid would be a lot lighter and clearer.");
    cRC_Merchant.UnlockView();
    
    
    Joel_Talking_Start();
  cJoel.Say("I guess that makes sense...");
    cJoel.UnlockView();
    
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("If you want to drink from it, you need to purify it.");
    cRC_Merchant.UnlockView();
  
    Joel_Talking_Start();
  cJoel.Say("Purify it? How?");
    cJoel.UnlockView();
  
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("You need a 'Yellow Citrc Stone.'");
    cRC_Merchant.UnlockView();
  
    Joel_Talking_Start();
  cJoel.Say("Yellow Citrc Stone... I never heard of that before.");
  cJoel.Say("Where can I find it?");
    cJoel.UnlockView();
  
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("There usually located around big dark purple areas on the planet.");
  cRC_Merchant.Say("We like to call them the 'Violet Veils.'");
    cRC_Merchant.UnlockView();
    
    
    Joel_Talking_Start();
  cJoel.Say("Violet Veils?");
    cJoel.UnlockView();
    
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("Yes, because it's usually hard to tell what's in them. Mostly forests, but you should be all right.'");
   cRC_Merchant.Say("Also, you might need something to break with to get the Yellow Citrc Stone.");
    cRC_Merchant.UnlockView();
    
  
  // Goodbyes 
    Joel_Talking_Start();
  cJoel.Say("Thanks for the heads up! I appreciate it!");
    cJoel.UnlockView();
    
    RC_Merchant_Talking_Start();
  cRC_Merchant.Say("No problem! Just be mindful of things you see.");
    cRC_Merchant.UnlockView();
  
    Joel_Talking_Start();
  cJoel.Say("I will...");
    cJoel.UnlockView();
    
  //Var Joel_Expedition to -> 2
  Joel_Expedition += 1;
  
    gStatusline.Visible = true;
    gIconbar.Visible = true;
    gCutscenesBars.Visible = false;
  
  }
  else if (Joel_Expedition == 2)
  {
    cJoel.Say("(I can't drink this yet. I need something to purify the liquid first.)");
  }
}

//==================== (Joel Spacecraft) ====================
function oJoelSpacecraft_Interact(Object *theObject, CursorMode mode)
{
  // Going back into space
  cJoel.ChangeRoom(9, 159, 164, eDirectionDown);
  aFlyby_Launch.Play();
}

function oJoelSpacecraft_Look(Object *theObject, CursorMode mode)
{
  Display("This is Joel's amazing Green Spacecraft. The environment around it is so bright that it makes it stand out!");
}

function hPuddleOfWater_UseInv(Hotspot *theHotspot, CursorMode mode)
{
  //
  if (Joel_Expedition == 6)
  {
    //Using the "Empty Jug" on the Unpurified Water (PuddleOfWater)
    if (cJoel.ActiveInventory == iEmptyJug)
    {
      cJoel.Walk(84, 154, eBlock, eWalkableAreas);
      cJoel.FaceDirection(eDirectionDown);
      Wait(60);
      aWater_Scoop.Play();
      Wait(60);
    
      cJoel.LoseInventory(iEmptyJug);
      cJoel.AddInventory(iJugUnpurifiedWater);
      aSci_Fi_Fast_Good_Bleep.Play();
      Display("You got the Unpurified Water!");
    
        Joel_Talking_Start();
      cJoel.Say("Now I just need to put the Yellow Citrc Stone in.");
        cJoel.UnlockView();
    }
    else
      Display("You don't think that would do anything.");
  }
}
